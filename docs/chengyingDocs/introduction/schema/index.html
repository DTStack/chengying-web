<!doctype html>
<html class="docs-version-current" lang="ä¸­æ–‡" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.17">
<link rel="alternate" type="application/rss+xml" href="/chengying-web/blog/rss.xml" title="ChengYing æ‰¿å½± RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/chengying-web/blog/atom.xml" title="ChengYing æ‰¿å½± Atom Feed"><title data-rh="true">äº§å“åŒ…åˆ¶ä½œ | ChengYing æ‰¿å½±</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://dtstack.github.io/chengying-web//chengying-web/docs/chengyingDocs/introduction/schema"><meta data-rh="true" name="docusaurus_locale" content="zh-cn"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:language" content="zh-cn"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="äº§å“åŒ…åˆ¶ä½œ | ChengYing æ‰¿å½±"><meta data-rh="true" name="description" content="License"><meta data-rh="true" property="og:description" content="License"><link data-rh="true" rel="icon" href="/chengying-web/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://dtstack.github.io/chengying-web//chengying-web/docs/chengyingDocs/introduction/schema"><link data-rh="true" rel="alternate" href="https://dtstack.github.io/chengying-web//chengying-web/docs/chengyingDocs/introduction/schema" hreflang="ä¸­æ–‡"><link data-rh="true" rel="alternate" href="https://dtstack.github.io/chengying-web//chengying-web/docs/chengyingDocs/introduction/schema" hreflang="x-default"><link rel="stylesheet" href="/chengying-web/assets/css/styles.c98c2890.css">
<link rel="preload" href="/chengying-web/assets/js/runtime~main.652bd81e.js" as="script">
<link rel="preload" href="/chengying-web/assets/js/main.bebce2c2.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/chengying-web/"><div class="navbar__logo"><img src="/chengying-web/img/logo-light.png" alt="ChengYing Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/chengying-web/img/logo-light.png" alt="ChengYing Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">æ‰¿å½±</b></a><a class="navbar__item navbar__link navbar__link--active" href="/chengying-web/docs/chengyingDocs/intro">æ–‡æ¡£</a><a class="navbar__item navbar__link" href="/chengying-web/blog">åšå®¢</a><a class="navbar__item navbar__link" href="/chengying-web/docs/download/">ä¸‹è½½</a><a href="http://chengying.dtstack.cn/login" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>å¿«é€Ÿä½“éªŒ<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link"><span><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_dNtB"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg><span>ä¸­æ–‡ï¼ˆä¸­å›½ï¼‰</span></span></a><ul class="dropdown__menu"><li><a href="/chengying-web/docs/chengyingDocs/introduction/schema" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">ä¸­æ–‡ï¼ˆä¸­å›½ï¼‰</a></li></ul></div><a href="https://github.com/DTStack/chengying" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_S7eR toggle_TdHA toggleDisabled_f9M3"><div class="toggleButton_rCf9" role="button" tabindex="-1"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></div><input type="checkbox" class="toggleScreenReader_g2nN" aria-label="Switch between dark and light mode (currently light mode)"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/chengying-web/docs/chengyingDocs/intro">ä»€ä¹ˆæ˜¯ChengYing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/chengying-web/docs/chengyingDocs/quickstart">å¿«é€Ÿå¼€å§‹</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/chengying-web/docs/chengyingDocs/introduction/install">åŠŸèƒ½ä»‹ç»</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/chengying-web/docs/chengyingDocs/introduction/install">å®‰è£…éƒ¨ç½²</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/chengying-web/docs/chengyingDocs/introduction/cluster">é›†ç¾¤ç®¡ç†</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/chengying-web/docs/chengyingDocs/introduction/clusterService">é›†ç¾¤æœåŠ¡</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/chengying-web/docs/chengyingDocs/introduction/monitor">ç›‘æ§å‘Šè­¦</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/chengying-web/docs/chengyingDocs/introduction/schema">äº§å“åŒ…åˆ¶ä½œ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/chengying-web/docs/chengyingDocs/introduction/commonUpgrade">æ™®é€šå‡çº§</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/chengying-web/docs/chengyingDocs/introduction/smoothUpgrade">å¹³æ»‘å‡çº§</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/chengying-web/docs/chengyingDocs/introduction/productLine">äº§å“çº¿è‡ªåŠ¨éƒ¨ç½²</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/chengying-web/docs/chengyingDocs/contributing">è´¡çŒ®æŒ‡å—</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/chengying-web/docs/chengyingDocs/faq">FAQ</a></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/chengying-web/">ğŸ </a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link breadcrumbsItemLink_e5ie">åŠŸèƒ½ä»‹ç»</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><a class="breadcrumbs__link breadcrumbsItemLink_e5ie" href="/chengying-web/docs/chengyingDocs/introduction/schema">äº§å“åŒ…åˆ¶ä½œ</a></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>äº§å“åŒ…åˆ¶ä½œ</h1></header><p><a href="https://www.apache.org/licenses/LICENSE-2.0.html" target="_blank" rel="noopener noreferrer"><img src="https://img.shields.io/badge/license-Apache%202-4EB1BA.svg" alt="License"></a></p><h1>äº§å“åŒ…åˆ¶ä½œ</h1><blockquote><p>é¦–å…ˆï¼Œåœ¨åˆ¶ä½œäº§å“åŒ…ä¹‹å‰ï¼Œå…ˆçœ‹çœ‹æˆ‘ä»¬è¦å‡†å¤‡å“ªäº›å†…å®¹ã€‚</p></blockquote><p>1.å¿…é¡»åŒ…å«schemaæ–‡ä»¶ï¼ˆåç§°å¿…é¡»æ˜¯<code>schema.yml</code>ï¼‰</p><p>2.å„ä¸ªæœåŠ¡ç›®å½•ï¼ˆç›®å½•åä¸ºæœåŠ¡åï¼‰</p><p>3.<a href="https://dtstack-download.oss-cn-hangzhou.aliyuncs.com/chengying/mero" target="_blank" rel="noopener noreferrer">mero</a>å¯æ‰§è¡Œæ–‡ä»¶</p><h1>schemaé…ç½®ä»‹ç»</h1><blockquote><p>schemaæ–‡ä»¶æ˜¯ä¸€ä¸ªæ ‡å‡†çš„yamlæ–‡ä»¶</p></blockquote><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">parent_product_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DTinsight</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">product_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> dtstack easy</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">stack</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">product_name_display</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> dtstack easy</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">stackï¼ˆproduct_nameçš„æ˜¾ç¤ºåï¼Œå¯é€‰ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">product_version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 2.1</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">xinwang</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">service</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">dtlog</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">service_display</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> dtlogï¼ˆserviceçš„æ˜¾ç¤ºåï¼Œå¯é€‰ï¼‰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 1.8.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">orchestration</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">affinity</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> web</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">anti_affinity</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> mysql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">instance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">pseudo</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#ä¼ªæœåŠ¡</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">ha_role_cmd</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> echo master </span><span class="token comment" style="color:#999988;font-style:italic">#HA command</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">#install path /opt/dtstack/dtstack easy-stack/dtlog</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">cmd</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> bin/dtlog </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">port $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">SLB.dtlog_front_port</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">config $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">config_path</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">ca $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">es.ca_file</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">uic $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">dtuic.jjww</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#æœåŠ¡taråŒ…å†…è·¯å¾„</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">config_paths</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">config_path</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">MYSQL_ADDRESS</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">mysql.esip</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">es.bizdb</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">ES_ADDR</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">@es</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#es service first ip</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">healthcheck</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">shell</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> curl http</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">dtlog_ip_port</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">/xxx/healthcheck</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">#period: 30s #default 60s</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">start_period</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 10s </span><span class="token comment" style="color:#999988;font-style:italic">#default 10s</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">timeout</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 10s </span><span class="token comment" style="color:#999988;font-style:italic">#default 10s</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">retries</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#default 1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">max_replica</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">start_after_install</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">post_deploy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> chown 0644 dtlog </span><span class="token important">&amp;&amp;</span><span class="token plain"> zkcreate node xxx </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">ip $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">@es</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">post_undeploy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> rm </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">rf /var/data/dtlog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">logs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> log/abc.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> /var/log/dtlog/</span><span class="token important">*.log</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> default</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> es</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> dtuic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">log_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8888</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">config_path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> dtlog.ini</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">dtlog_ip_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">@dtlog</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">8080</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#self service&#x27;s node ip</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">es_ips</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">@es</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">#es service ip lists</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">self_ip</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">@dtlog</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">es</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">instance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">use_cloud</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># same as instance == null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">cmd</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> start.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">ca_file</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> filepath</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">desc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> CA</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">File for EasyLog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">default</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> etc/es.ca.key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">bizdb</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> guyan$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">mysql.dsn</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">mysql</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5.7</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">instance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">cmd</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> start.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">max_replica</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">prometheus_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">prometheus_port</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">update_recreate</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">username</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">desc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Database Username for EasyLog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">default</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">desc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Database Password for EasyLog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">default</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> dtstack</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">dsn</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /dbname</span><span class="token punctuation" style="color:#393A34">?</span><span class="token plain">encode=utf8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">prometheus_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9104</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">esip</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">@es</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">SLB</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8.7</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#no instance, usually for cloud or other service/product</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">dtlog_front_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> port</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">desc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Uic port for EasyLog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">default</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">dtlog.log_port</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">dtlog_back_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8879</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">dtuic@other_product.uic</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#other-product uic&#x27;s instance field not inherit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">#no instance, usually for cloud or other service/product</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">depends_on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> es</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> SLB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">username</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">desc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Username for UIC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">default</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">password</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">desc</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Password for UIC</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">default</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> dtstack</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><em>é…ç½®é¡¹æ˜ å°„schemaå˜é‡</em></p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">es-server: http://{{.Join .es_ips &quot;,&quot;}}/aaa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">arg: -c {{.config_path}} -self {{.dtlog_ip_port}} -host {{.Hostname .es_ips}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node-count: {{.NodeCount .self_ip}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node-index: {{.NodeIndex .self_ip}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">node-id: {{.NodeID .self_ip}} ##åˆ†é…åä¸å˜</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">broker-id: {{.LastSegIP .self_ip}}  ##IPæœ€åä¸€æ®µä½œä¸ºbroker-id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">add-one: {{.AddOne 100}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">JoinHost: http://{{.JoinHost .self_ip &quot;,&quot;}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">JoinHost_: http://{{.JoinHost &quot;self_ip&quot; &quot;,&quot;}} ##ä½¿ç”¨å­—ç¬¦ä¸²ï¼Œä¸æ¨è</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">JoinxHost: http://{{.JoinxHost .self_ip &quot;,&quot;}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Hostname: {{.Hostname .self_ip}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">IPList: {{range $v := .IPList .self_ip}}{{$v}},{{end}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HostList: {{range $v := .HostList .self_ip}}{{$v}},{{end}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HostList_: {{range $v := .HostList &quot;self_ip&quot;}}{{$v}},{{end}} ##ä½¿ç”¨å­—ç¬¦ä¸²ï¼Œä¸æ¨è</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">GetIpByNodeID: {{.GetIpByNodeID .NodeID .self_ip}}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h1>é…ç½®ä»‹ç»</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="é¡¶å±‚å­—æ®µ">é¡¶å±‚å­—æ®µ<a class="hash-link" href="#é¡¶å±‚å­—æ®µ" title="Direct link to heading">â€‹</a></h2><ul><li>parent_product_name: äº§å“åç§°</li><li>product_nameï¼šäº§å“åç§°ï¼Œä¸èƒ½é‡å¤ï¼Œä¸èƒ½ä¿®æ”¹<!-- -->[å¿…å¡«]</li><li>product_name_displayï¼šäº§å“æ˜¾ç¤ºåç§° <!-- -->[é€‰å¡«]</li><li>product_version: äº§å“ç‰ˆæœ¬å·ï¼Œå¯¹å¤–å”¯ä¸€å¯è§ç‰ˆæœ¬å·ï¼ˆå‡çº§/å›æ»šï¼‰<!-- -->[å¿…å¡«]</li><li>service: æœåŠ¡å­—å…¸åˆ—è¡¨ï¼Œå¯¹åº”æœåŠ¡åŒ…xxx.zip<!-- -->[éç©º]</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="æœåŠ¡å­—æ®µ">æœåŠ¡å­—æ®µ<a class="hash-link" href="#æœåŠ¡å­—æ®µ" title="Direct link to heading">â€‹</a></h2><p><a href="mailto:xxx@other_product.yyy" target="_blank" rel="noopener noreferrer">xxx@other_product.yyy</a>ï¼š</p><p>â€‹        xxxæ˜¯æœ¬äº§å“å†…çš„å”¯ä¸€æœåŠ¡å,<code>@</code>è¡¨ç¤ºç»§æ‰¿äºï¼Œother-productè¡¨ç¤ºå…¶å®ƒäº§å“åç§°ï¼Œyyyè¡¨ç¤ºæœåŠ¡åç§° <a href="mailto:xxx@other_product.yyy" target="_blank" rel="noopener noreferrer">xxx@other_product.yyy</a>@xxxxï¼š ç»§æ‰¿æœåŠ¡æ‰©å±•ï¼Œxxxxä¸ºç»§æ‰¿æœåŠ¡å±æ€§ï¼Œå¦‚xxxx=optionè¡¨ç¤ºééƒ¨ç½²ä¾èµ–å¿…é¡»ï¼Œä¸ºå¯é€‰ç»§æ‰¿æœåŠ¡ å¯é€‰ç»§æ‰¿æœåŠ¡çš„æœåŠ¡IPç¼ºçœä¸º<!-- -->[127.0.0.1]<!-- -->.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="æœåŠ¡å†…å…³é”®å­—æ®µ">æœåŠ¡å†…å…³é”®å­—æ®µ<a class="hash-link" href="#æœåŠ¡å†…å…³é”®å­—æ®µ" title="Direct link to heading">â€‹</a></h2><ul><li>service_displayï¼šæœåŠ¡çš„æ˜¾ç¤ºå <!-- -->[é€‰å¡«]</li><li>versionï¼šæœåŠ¡ç‰ˆæœ¬å·ï¼ˆåˆ¤æ–­æ˜¯å¦éœ€è¦å‡çº§/å›æ»šï¼‰<!-- -->[å¿…å¡«]</li><li>depends_onï¼šä¾èµ–æœåŠ¡åˆ—è¡¨ <!-- -->[å¯é€‰]</li><li>relatives: éƒ¨ç½²è¡€ç¼˜ï¼Œéœ€è¦éƒ¨ç½²åœ¨ç›¸åŒçš„èŠ‚ç‚¹ä¸Š <!-- -->[å¯é€‰]</li><li>instanceï¼šå®ä¾‹æ•°ç»„ï¼ˆä»ä¸Šåˆ°ä¸‹é¡ºåºæ‰§è¡Œï¼‰ï¼Œæ²¡æœ‰è¡¨ç¤º<code>è™šæ‹ŸæœåŠ¡</code>ï¼Œåªæä¾›é…ç½®ä¿¡æ¯ç»™å…¶å®ƒæœåŠ¡ï¼Œå¦‚RDSï¼ŒELB eg. <!-- -->[å¯é€‰]</li><li>instance.empty_carï¼šç©ºè½¦æ¨¡å¼|ç©ºåŒ…æ¨¡å¼ï¼Œè¡¨ç¤ºä»…éƒ¨ç½²å®ä¾‹ç®¡æ§é€»è¾‘ï¼Œä¸äº§ç”Ÿå®é™…çš„æ–‡ä»¶éƒ¨ç½²ï¼Œå¯ç”¨äºç°æœ‰ç³»ç»Ÿè¢«EMæ¥ç®¡<!-- -->[å¯é€‰]</li><li>instance.install_pathï¼šæŒ‡å®šå®ä¾‹çš„å®‰è£…è·¯å¾„ï¼Œç¼ºçœæ—¶ä½¿ç”¨é»˜è®¤å®‰è£…è·¯å¾„<!-- -->[å¯é€‰]</li><li>instance.use_cloudï¼šæ˜¯å¦ä½¿ç”¨äº‘ä¸Šèµ„æºï¼Œè·Ÿ<code>è™šæ‹ŸæœåŠ¡</code>æ„ä¹‰ç›¸åŒ<!-- -->[å¯é€‰]</li><li>instance.run_userï¼šæŒ‡å®šå®ä¾‹å¯åŠ¨ç”¨æˆ·ï¼Œæ²¡æœ‰è¡¨ç¤ºè·Ÿçˆ¶è¿›ç¨‹ä¸€è‡´ <!-- -->[é€‰å¡«]</li><li>instance.data_dirï¼šæ•°æ®ç›®å½•é…ç½®ï¼Œé…ç½®run_useræ—¶ä¼šæŒ‰ç…§run_useråšç›®å½•chown run_user:run_user<!-- -->[é€‰å¡«]</li><li>instance.cmdï¼šå®ä¾‹å¯åŠ¨å‘½ä»¤è¡Œ,å¿…é¡»hangä½ï¼ˆç©ºæ ¼é—´éš”å‚æ•°ï¼Œéshellï¼Œå¿½ç•¥std/stderrè¾“å‡ºï¼‰ <!-- -->[å¿…å¡«]</li><li>instance.home_pageï¼šå®ä¾‹homeé¡µé¢ <!-- -->[å¯é€‰]</li><li>instance.ha_role_cmdï¼šå®ä¾‹HAè§’è‰²æ¢æµ‹å‘½ä»¤ <!-- -->[å¯é€‰]</li><li>instance.pseudoï¼šæ˜¯å¦æ˜¯ä¼ªæœåŠ¡å®ä¾‹ï¼Œé»˜è®¤false <!-- -->[å¯é€‰]</li><li>instance.max_replicaï¼šæœ€å¤§å®ä¾‹/å‰¯æœ¬æ•°é‡ <!-- -->[å¯é€‰]<!-- -->  è‡ªåŠ¨éƒ¨ç½²æ—¶ä½œä¸ºè¯¥æœåŠ¡çš„å‰¯æœ¬æ•°</li><li>instance.start_after_installï¼šå½“æ‰€æœ‰èŠ‚ç‚¹å®‰è£…å®Œæˆåå†å¯åŠ¨<!-- -->[å¯é€‰]</li><li>instance.update_recreateï¼šå…ˆåˆ é™¤è€å®ä¾‹ï¼Œå†å¯åŠ¨æ–°å®ä¾‹<!-- -->[å¯é€‰]</li><li>instance.config_pathï¼šé…ç½®æ–‡ä»¶è·¯å¾„<!-- -->[å¯é€‰]</li><li>instance.environmentï¼šç¯å¢ƒå˜é‡åˆ—è¡¨ <!-- -->[å¿…å¡«]</li><li>instance.post_deployï¼šéƒ¨ç½²å®Œæˆåè¿è¡Œå‘½ä»¤<!-- -->[å¯é€‰]</li><li>instance.post_upgradeï¼šéƒ¨ç½²å®Œæˆåæ‰§è¡Œç‰¹å®šå‘½ä»¤ï¼Œå¦‚å‡çº§æ—¶å¢é‡sqlï¼Œ4.1.3å¼•å…¥<!-- -->[å¯é€‰]</li><li>instance.post_undeployï¼šå¸è½½éƒ¨ç½²å®Œæˆåè¿è¡Œå‘½ä»¤<!-- -->[å¯é€‰]</li><li>instance.prometheus_portï¼šprometheusç›‘å¬ç«¯å£ï¼ˆå¦‚æœæœ‰exporterï¼Œå¿…é¡»åŒ…å«åœ¨äº§å“åŒ…ä¸­ä¸”åœ¨cmdè„šæœ¬ä¸­å¯åŠ¨ï¼‰<!-- -->[å¯é€‰]</li><li>instance.logs: æ—¥å¿—æ–‡ä»¶ï¼ˆæ”¯æŒ*å·åŒ¹é…ï¼‰<!-- -->[å¯é€‰]</li><li>instance.healthcheckï¼šå¥åº·æ£€æŸ¥ <!-- -->[å¯é€‰]</li><li>instance.healthcheck.shellï¼šreturn code=0è¡¨ç¤ºæˆåŠŸ<!-- -->[å¿…å¡«]</li><li>instance.healthcheck.periodï¼šæ£€æŸ¥å‘¨æœŸï¼ˆ&gt;=1sï¼‰ï¼Œå¦‚&quot;300s&quot;, &quot;5m&quot;, &quot;1.5h&quot;<!-- -->[å¯é€‰ï¼Œé»˜è®¤60s]</li><li>instance.healthcheck.start_periodï¼šå¼€å§‹æ£€æŸ¥æ—¶é—´ï¼Œå¦‚&quot;10s&quot;<!-- -->[å¯é€‰]</li><li>instance.healthcheck.timeoutï¼šè¶…æ—¶æ—¶é—´ï¼Œå¦‚&quot;10s&quot;<!-- -->[å¯é€‰]</li><li>instance.healthcheck.retriesï¼šé‡è¯•æ¬¡æ•°ï¼Œå¦‚æœéƒ½å¤±è´¥ï¼Œæ‰è®¤ä¸ºå¥åº·æ£€æŸ¥å¤±è´¥<!-- -->[å¯é€‰ï¼Œé»˜è®¤1]</li><li>group: ç»„åç§°ï¼Œé»˜è®¤default<!-- -->[å¯é€‰]</li><li>config: å¯é…ç½®å­—æ®µå—ï¼Œç”¨æ¥è¢«æœ¬æœåŠ¡é…ç½®æ–‡ä»¶æˆ–æ‰€æœ‰æœåŠ¡instance,configå­—æ®µå¼•ç”¨</li><li>orchestration.affinityï¼šæ•°ç»„   è‡ªåŠ¨ç¼–æ’è§’è‰²äº²å’Œæ€§  <!-- -->[å¯é€‰]<!-- -->  ä½†æ˜¯æ²¡æœ‰è¯¥å­—æ®µçš„è¯ï¼Œè¯¥æœåŠ¡å°†æ— æ³•å‚ä¸è‡ªåŠ¨ç¼–æ’</li><li>orchestration.anti_affinityï¼šæ•°ç»„   è‡ªåŠ¨ç¼–æ’è§’è‰²åäº²å’Œæ€§  <!-- -->[å¯é€‰]</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="å˜é‡å¼•ç”¨">å˜é‡å¼•ç”¨<a class="hash-link" href="#å˜é‡å¼•ç”¨" title="Direct link to heading">â€‹</a></h2><ul><li><code>${[service.]field}</code>ï¼šå¼•ç”¨serviceæœåŠ¡configå—ä¸­çš„å˜é‡fieldã€‚serviceå¯ä»¥çœç•¥ï¼Œè¡¨ç¤ºå¼•ç”¨æœ¬æœåŠ¡å—å†…çš„å˜é‡</li><li><code>${@service[.instance-name]}</code>ï¼šå¼•ç”¨serviceæœåŠ¡ä¸­instance-nameå®ä¾‹ipåˆ—è¡¨ã€‚instance-nameå¯ä»¥çœç•¥ï¼Œè¡¨ç¤ºæ‰€æœ‰å®ä¾‹IPåˆ—è¡¨</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="æœåŠ¡é…ç½®æ–‡ä»¶">æœåŠ¡é…ç½®æ–‡ä»¶<a class="hash-link" href="#æœåŠ¡é…ç½®æ–‡ä»¶" title="Direct link to heading">â€‹</a></h2><p>ç”¨golangæ¨¡æ¿å¼•ç”¨æœ¬æœåŠ¡å†…çš„é…ç½®å­—æ®µï¼Œè¯¦è§<a href="https://golang.org/pkg/text/template/" target="_blank" rel="noopener noreferrer">go template</a> å†…ç½®å‡½æ•°Joinï¼ŒJoinHostï¼ŒJoinxï¼ŒJoinxHostï¼ŒNodeCountï¼ŒNodeIndexï¼ŒNodeIDï¼ŒLastSegIPï¼ŒAddOneï¼Œ Hostnameï¼ŒIPListï¼ŒHostList, GetIpByNodeIDï¼ŒGetHostByNodeID</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="è™šæ‹ŸæœåŠ¡">è™šæ‹ŸæœåŠ¡<a class="hash-link" href="#è™šæ‹ŸæœåŠ¡" title="Direct link to heading">â€‹</a></h2><p>instanceå—ä¸é…ç½®æˆ–instance.use_cloudä¸ºtrue</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="å¯åŠ¨é¡ºåº">å¯åŠ¨é¡ºåº<a class="hash-link" href="#å¯åŠ¨é¡ºåº" title="Direct link to heading">â€‹</a></h2><p>æ ¹æ®æœåŠ¡depends_onç¡®å®šå¯åŠ¨é¡ºåºï¼Œæ ¹æ®å¥åº·æ£€æŸ¥ç»“æœé€ä¸ªå¯åŠ¨æ‰€æœ‰æœåŠ¡ã€‚æœåŠ¡å†…å®ä¾‹ä»ä¸Šåˆ°ä¸‹å¯åŠ¨ã€‚</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="æœåŠ¡å®ˆæŠ¤">æœåŠ¡å®ˆæŠ¤<a class="hash-link" href="#æœåŠ¡å®ˆæŠ¤" title="Direct link to heading">â€‹</a></h2><p>æœåŠ¡è¿›ç¨‹é€€å‡ºï¼Œä¼šè¢«å†æ¬¡æ‹‰èµ·ï¼ˆ1åˆ†é’Ÿå†…3æ¬¡æœºä¼šï¼‰</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="æœåŠ¡å®‰è£…è·¯å¾„">æœåŠ¡å®‰è£…è·¯å¾„<a class="hash-link" href="#æœåŠ¡å®‰è£…è·¯å¾„" title="Direct link to heading">â€‹</a></h2><p>/opt/dtstack/product_name/service_name</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="æœåŠ¡ç»§æ‰¿">æœåŠ¡ç»§æ‰¿<a class="hash-link" href="#æœåŠ¡ç»§æ‰¿" title="Direct link to heading">â€‹</a></h2><p>IPåœ°å€ç»§æ‰¿ï¼šå¦‚æœæ˜¯è™šæ‹ŸæœåŠ¡ï¼ŒIPåœ°å€ç»§æ‰¿åˆ°æœ¬æœåŠ¡ versionç»§æ‰¿ï¼šå¦‚æœæ˜¯è™šæ‹ŸæœåŠ¡ä¸”versionæœªè®¾ç½®ï¼Œversionç»§æ‰¿åˆ°æœ¬æœåŠ¡ configå—ç»§æ‰¿ï¼šå­—æ®µå˜é‡å®é™…å€¼ç»§æ‰¿åˆ°æœ¬æœåŠ¡ï¼Œç»§æ‰¿å­—æ®µä¼šè¦†ç›–æœ¬æœåŠ¡å­—æ®µ å¯é€‰æœåŠ¡ç»§æ‰¿ï¼šå¯é€‰æœåŠ¡ç»§æ‰¿ä»…æä¾›ç¼ºçœçš„IPåœ°å€</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="å·¥ä½œç›®å½•">å·¥ä½œç›®å½•<a class="hash-link" href="#å·¥ä½œç›®å½•" title="Direct link to heading">â€‹</a></h2><p>æœåŠ¡å®‰è£…è·¯å¾„</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="å‘½ä»¤è¡Œæ–‡ä»¶è·¯å¾„">å‘½ä»¤è¡Œæ–‡ä»¶è·¯å¾„<a class="hash-link" href="#å‘½ä»¤è¡Œæ–‡ä»¶è·¯å¾„" title="Direct link to heading">â€‹</a></h2><p>ç›¸å¯¹äºæœåŠ¡taråŒ…</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="ç›‘æ§ç³»ç»Ÿ">ç›‘æ§ç³»ç»Ÿ<a class="hash-link" href="#ç›‘æ§ç³»ç»Ÿ" title="Direct link to heading">â€‹</a></h2><p>EasyManageræœåŠ¡ç«¯é»˜è®¤è£…æœ‰prometheusç›‘æ§ç³»ç»Ÿ+grafana</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="äº§å“åŒ…æ‰“åŒ…æ–¹æ³•">äº§å“åŒ…æ‰“åŒ…æ–¹æ³•<a class="hash-link" href="#äº§å“åŒ…æ‰“åŒ…æ–¹æ³•" title="Direct link to heading">â€‹</a></h2><p>mero pkg-dir <!-- -->[old-pkg]<!-- --> pkg-diræ˜¯äº§å“åŒ…ç›®å½•ï¼š</p><p>å¿…é¡»åŒ…å«schemaæ–‡ä»¶ï¼ˆåç§°å¿…é¡»æ˜¯<code>schema.yml</code>ï¼‰</p><p>å„ä¸ªæœåŠ¡ç›®å½•ï¼ˆç›®å½•åä¸ºæœåŠ¡åï¼‰ old-pkgæ˜¯è€çš„äº§å“å®Œæ•´åŒ…</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">mero pkg-dir</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Product package create success: &quot;product_name_product_version.tar&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h1>Jvmè¿›ç¨‹äº§å“åŒ…çš„åˆ¶ä½œ</h1><blockquote><p>åœ¨åˆ¶ä½œäº§å“åŒ…ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå›é¡¾ä¸€ä¸‹ä¸€ä¸ªjarçš„å¯åœç»´æŠ¤æ–¹å¼ã€‚</p></blockquote><p><strong>å¯åŠ¨</strong></p><p><em>java -jar jarFileName.jaræˆ–è€…ä½¿ç”¨nohupè¿›è¡Œåå°å¯åŠ¨</em></p><p><strong>ç»´æŠ¤</strong></p><p><em>é€šå¸¸æƒ…å†µä¸‹ï¼Œåªèƒ½é€šè¿‡æŸ¥çœ‹æ—¥å¿—è¿›è¡Œåˆ†æï¼Œæˆ–å€ŸåŠ©ç¬¬ä¸‰æ–¹å·¥å…·ã€‚</em></p><p><strong>å¯¹äºä¼ ç»Ÿæ¨¡å¼ä¸‹å­˜åœ¨çš„é—®é¢˜</strong></p><ul><li>æ‰‹åŠ¨å¯åœ</li><li>è¿›ç¨‹å¥åº·æ— æ³•å¾—åˆ°ä¿éšœ</li><li>æ— ç‰ˆæœ¬è®°å½•</li><li>ç­‰ç­‰</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="åˆ¶ä½œäº§å“åŒ…å‰æ€è€ƒ">åˆ¶ä½œäº§å“åŒ…å‰æ€è€ƒ<a class="hash-link" href="#åˆ¶ä½œäº§å“åŒ…å‰æ€è€ƒ" title="Direct link to heading">â€‹</a></h3><p>1.è¿™ä¸ªåŒ…éœ€è¦æœ‰å‡ ä¸ªæœåŠ¡</p><p>2.æœ‰å“ªäº›æ˜¯ä¼ªæœåŠ¡</p><p>3.æ¯ä¸ªæœåŠ¡çš„å¯åŠ¨æ˜¯å¦æœ‰å¼ºä¾èµ–</p><p>4.æœ‰å“ªäº›æ˜¯éœ€è¦åˆå§‹åŒ–</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹æ€è€ƒ">ç¤ºä¾‹æ€è€ƒ<a class="hash-link" href="#ç¤ºä¾‹æ€è€ƒ" title="Direct link to heading">â€‹</a></h4><p><em>å‡è®¾æˆ‘ä»¬å·²ç»éƒ¨ç½²å¥½äº†Jvmæ‰€ä¾èµ–çš„ä¸€äº›åŸºç¡€æœåŠ¡ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å¯åŠ¨è¿™ä¸ªJarã€‚</em></p><p><em>æˆ‘ä»¬éœ€è¦éƒ¨ç½²å¯åŠ¨ä¸€ä¸ªJvmè¿›ç¨‹ï¼Œæ˜¯ä¸€ä¸ªæœ‰çŠ¶æ€çš„è¿›ç¨‹ï¼Œæ‰€ä»¥ï¼Œä»–ä¸æ˜¯ä¸€ä¸ªä¼ªæœåŠ¡ã€‚</em></p><h3 class="anchor anchorWithStickyNavbar_mojV" id="åˆ¶ä½œäº§å“åŒ…å‰å‡†å¤‡">åˆ¶ä½œäº§å“åŒ…å‰å‡†å¤‡<a class="hash-link" href="#åˆ¶ä½œäº§å“åŒ…å‰å‡†å¤‡" title="Direct link to heading">â€‹</a></h3><p>1.éœ€è¦å‡†å¤‡å¥½æ¯ä¸ªæœåŠ¡çš„åˆå§‹åŒ–è„šæœ¬(å¦‚æœéœ€è¦)</p><p>2.éœ€è¦å‡†å¤‡å¥½æ¯ä¸ªæœåŠ¡çš„å¯åŠ¨è„šæœ¬(ä¼ªæœåŠ¡ä¸éœ€è¦)</p><p>3.éœ€è¦å‡†å¤‡å¥½æ¯ä¸ªæœåŠ¡çš„å¥åº·æ£€æŸ¥è„šæœ¬(ä¼ªæœåŠ¡ä¸éœ€è¦)</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹å‡†å¤‡">ç¤ºä¾‹å‡†å¤‡<a class="hash-link" href="#ç¤ºä¾‹å‡†å¤‡" title="Direct link to heading">â€‹</a></h4><p><strong>åˆå§‹åŒ–è„šæœ¬</strong></p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> -p </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">logs,run</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>å¯åŠ¨è„šæœ¬</strong></p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">source</span><span class="token plain"> /etc/profile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">exec</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$JAVA_HOME</span><span class="token plain">/bin/java -jar test.jar</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>å¥åº·æ£€æŸ¥è„šæœ¬</strong></p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#usage ./health.sh ip port1 port2 port2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#parameter 1 is host</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#parameters after 1 are list of ports to check</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#all ports are ok echo 1, else echo 0 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$#</span><span class="token plain"> -lt </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin class-name">echo</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;USAGE: </span><span class="token string variable" style="color:#36acaa">$0</span><span class="token string" style="color:#e3116c"> host [ports]&quot;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin class-name">exit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">fi</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">address</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">ret</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">shift</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token assign-left variable" style="color:#36acaa">i</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$@</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token for-or-select variable" style="color:#36acaa">i</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$@</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token builtin class-name">command</span><span class="token plain"> -v </span><span class="token function" style="color:#d73a49">nc</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/dev/null </span><span class="token operator file-descriptor important" style="color:#393A34">2</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token file-descriptor important">&amp;1</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># echo &quot;exists nc&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">#  echo  $address $i</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token function" style="color:#d73a49">nc</span><span class="token plain"> -w </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">  </span><span class="token variable" style="color:#36acaa">$address</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$i</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain"> /dev/null </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/dev/null </span><span class="token operator file-descriptor important" style="color:#393A34">2</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token file-descriptor important">&amp;1</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">#  echo status ======= $?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$?</span><span class="token plain"> -eq </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token assign-left variable" style="color:#36acaa">ret</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$((</span><span class="token variable" style="color:#36acaa"> $ret </span><span class="token variable operator" style="color:#393A34">+</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable number" style="color:#36acaa">0</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable" style="color:#36acaa">))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token assign-left variable" style="color:#36acaa">ret</span><span class="token operator" style="color:#393A34">=</span><span class="token variable" style="color:#36acaa">$((</span><span class="token variable" style="color:#36acaa"> $ret </span><span class="token variable operator" style="color:#393A34">+</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable number" style="color:#36acaa">1</span><span class="token variable" style="color:#36acaa"> </span><span class="token variable" style="color:#36acaa">))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token keyword" style="color:#00009f">fi</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token assign-left variable" style="color:#36acaa">ret</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">fi</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">done</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">exit</span><span class="token plain"> </span><span class="token variable" style="color:#36acaa">$ret</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="ç¤ºä¾‹schemaé…ç½®">ç¤ºä¾‹schemaé…ç½®<a class="hash-link" href="#ç¤ºä¾‹schemaé…ç½®" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">parent_product_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DTinsight</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">product_name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Test_pkg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">product_version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1.0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">service</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">Back</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1.0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">instance</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">cmd</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ./bin/base.sh              </span><span class="token comment" style="color:#999988;font-style:italic">##æœåŠ¡çš„å¯åŠ¨è„šæœ¬</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">post_deploy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ./bin/post_deploy.sh      </span><span class="token comment" style="color:#999988;font-style:italic">##æœåŠ¡åœ¨å¯åŠ¨å‰çš„åˆå§‹åŒ–æ“ä½œ</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">environment</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">##ç¯å¢ƒå˜é‡å¯¼å…¥ï¼Œå¯ä»¥åœ¨è„šæœ¬é‡Œç›´æ¥å¼•ç”¨</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">JAVA_OPTS</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">java_opts</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">config_paths</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">##æœåŠ¡çš„é…ç½®æ–‡ä»¶æ‰€åœ¨ç›®å½•</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> conf/application.properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">healthcheck</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">shell</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ./bin/health.sh $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">@Back</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> 8090     </span><span class="token comment" style="color:#999988;font-style:italic">##å¥åº·æ£€æŸ¥è„šæœ¬é…ç½®</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">period</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 20s              </span><span class="token comment" style="color:#999988;font-style:italic">##å¥åº·æ£€æŸ¥çš„é—´éš”æ—¶é—´</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">retries</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">##å¥åº·æ£€æŸ¥çš„é‡è¯•æ¬¡æ•°</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">logs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> logs/</span><span class="token important">*.log</span><span class="token plain">               </span><span class="token comment" style="color:#999988;font-style:italic">##é…ç½®æœåŠ¡çš„æ—¥å¿—åœ°å€</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">prometheus_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9515</span><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">##é…ç½®æœåŠ¡å¯åŠ¨çš„exportçš„ç›‘å¬ç«¯å£</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">group</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> test          </span><span class="token comment" style="color:#999988;font-style:italic">##æœåŠ¡çš„åˆ†ç»„ï¼Œè·Ÿé¡µé¢çš„æœåŠ¡å±•ç¤ºæœ‰å…³ç³»</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">##é…ç½®æ˜ å°„,é…ç½®æ–‡ä»¶éœ€è¦åœ¨config_pathsä¸­å®šä¹‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">java_opts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;-Xms2048m -Xmx2048m&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">service_port</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8090</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="meroæ‰“åŒ…">meroæ‰“åŒ…<a class="hash-link" href="#meroæ‰“åŒ…" title="Direct link to heading">â€‹</a></h2><p><strong>æ‰“åŒ…å‡†å¤‡</strong></p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">root@rel43-em mero</span><span class="token punctuation" style="color:#393A34">]</span><span class="token comment" style="color:#999988;font-style:italic"># ls -l</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">total </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">drwxr-xr-x </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"> root root   </span><span class="token number" style="color:#36acaa">40</span><span class="token plain"> May </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> 00:09 Back</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-rw-r--r-- </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> root root </span><span class="token number" style="color:#36acaa">1097</span><span class="token plain"> May </span><span class="token number" style="color:#36acaa">30</span><span class="token plain"> 00:08 schema.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">root@rel43-em mero</span><span class="token punctuation" style="color:#393A34">]</span><span class="token comment" style="color:#999988;font-style:italic"># ls -R</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">.:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Back  schema.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./Back:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bin  conf  lib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./Back/bin:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">base.sh  health.sh  post_deploy.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./Back/conf:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">application.properties</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">./Back/lib:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">root@rel43-em mero</span><span class="token punctuation" style="color:#393A34">]</span><span class="token comment" style="color:#999988;font-style:italic"># </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><strong>æ‰§è¡Œmero</strong></p><div class="codeBlockContainer_I0IT language-bas theme-code-block"><div class="codeBlockContent_wNvx bas"><pre tabindex="0" class="prism-code language-bas codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">[root@rel43-em mero]# ls -l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">total 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">drwxr-xr-x 5 root root   40 May 30 00:09 Back</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-rw-r--r-- 1 root root 1097 May 30 00:08 schema.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@rel43-em mero]# mero .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Product package create success: &quot;Test_pkg_v1.0.1.tar&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@rel43-em mero]# ls -l</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">total 12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">drwxr-xr-x 5 root root   40 May 30 00:09 Back</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-rw-r--r-- 1 root root 1097 May 30 00:08 schema.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-rw-r--r-- 1 root root 5120 May 30 00:26 Test_pkg_v1.0.1.tar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[root@rel43-em mero]# </span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>è‡³æ­¤ï¼Œä¸€ä¸ªäº§å“åŒ…åˆ¶ä½œå®Œæˆ</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/chengyingDocs/introduction/schema.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/chengying-web/docs/chengyingDocs/introduction/monitor"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">ç›‘æ§å‘Šè­¦</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/chengying-web/docs/chengyingDocs/introduction/commonUpgrade"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">æ™®é€šå‡çº§</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#é¡¶å±‚å­—æ®µ" class="table-of-contents__link toc-highlight">é¡¶å±‚å­—æ®µ</a></li><li><a href="#æœåŠ¡å­—æ®µ" class="table-of-contents__link toc-highlight">æœåŠ¡å­—æ®µ</a></li><li><a href="#æœåŠ¡å†…å…³é”®å­—æ®µ" class="table-of-contents__link toc-highlight">æœåŠ¡å†…å…³é”®å­—æ®µ</a></li><li><a href="#å˜é‡å¼•ç”¨" class="table-of-contents__link toc-highlight">å˜é‡å¼•ç”¨</a></li><li><a href="#æœåŠ¡é…ç½®æ–‡ä»¶" class="table-of-contents__link toc-highlight">æœåŠ¡é…ç½®æ–‡ä»¶</a></li><li><a href="#è™šæ‹ŸæœåŠ¡" class="table-of-contents__link toc-highlight">è™šæ‹ŸæœåŠ¡</a></li><li><a href="#å¯åŠ¨é¡ºåº" class="table-of-contents__link toc-highlight">å¯åŠ¨é¡ºåº</a></li><li><a href="#æœåŠ¡å®ˆæŠ¤" class="table-of-contents__link toc-highlight">æœåŠ¡å®ˆæŠ¤</a></li><li><a href="#æœåŠ¡å®‰è£…è·¯å¾„" class="table-of-contents__link toc-highlight">æœåŠ¡å®‰è£…è·¯å¾„</a></li><li><a href="#æœåŠ¡ç»§æ‰¿" class="table-of-contents__link toc-highlight">æœåŠ¡ç»§æ‰¿</a></li><li><a href="#å·¥ä½œç›®å½•" class="table-of-contents__link toc-highlight">å·¥ä½œç›®å½•</a></li><li><a href="#å‘½ä»¤è¡Œæ–‡ä»¶è·¯å¾„" class="table-of-contents__link toc-highlight">å‘½ä»¤è¡Œæ–‡ä»¶è·¯å¾„</a></li><li><a href="#ç›‘æ§ç³»ç»Ÿ" class="table-of-contents__link toc-highlight">ç›‘æ§ç³»ç»Ÿ</a></li><li><a href="#äº§å“åŒ…æ‰“åŒ…æ–¹æ³•" class="table-of-contents__link toc-highlight">äº§å“åŒ…æ‰“åŒ…æ–¹æ³•</a><ul><li><a href="#åˆ¶ä½œäº§å“åŒ…å‰æ€è€ƒ" class="table-of-contents__link toc-highlight">åˆ¶ä½œäº§å“åŒ…å‰æ€è€ƒ</a></li><li><a href="#åˆ¶ä½œäº§å“åŒ…å‰å‡†å¤‡" class="table-of-contents__link toc-highlight">åˆ¶ä½œäº§å“åŒ…å‰å‡†å¤‡</a></li><li><a href="#ç¤ºä¾‹schemaé…ç½®" class="table-of-contents__link toc-highlight">ç¤ºä¾‹schemaé…ç½®</a></li></ul></li><li><a href="#meroæ‰“åŒ…" class="table-of-contents__link toc-highlight">meroæ‰“åŒ…</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">ç¤¾åŒº</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/DTStack/chengying/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Issue Tracker<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/DTStack/chengying/pulls" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Pull Requests<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://github.com/DTStack/chengying/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/chengying-web/blog">åšå®¢</a></li><li class="footer__item"><a href="https://github.com/DTStack/chengying" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 è¢‹é¼ äº‘, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/chengying-web/assets/js/runtime~main.652bd81e.js"></script>
<script src="/chengying-web/assets/js/main.bebce2c2.js"></script>
</body>
</html>